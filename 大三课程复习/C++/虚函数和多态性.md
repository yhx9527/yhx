# 虚函数和多态性

要使派生类的成员函数覆盖基类的同名成员，那么必须将基类的成员函数说明成是虚函数，其语法如下：

class 类名

{

public:

  virtual 成员函数名(参数列表);

};

虚特性有这样特点：

①虚特性必须赋予给类的成员函数；

②虚函数不能是全局函数，也不能是类的静态成员函数；

③不能将友元说明为虚函数，但虚函数可以是另一个类的友元；

④虚特性能够被继承。如果派生类原型一致地重载了基类的某个虚函数，那么即使在派生类中没有将这个函数显式说明成是虚的，它也会被编译器认为是虚函数。



编译器首先要对每个包含虚函数的类创建一个虚表(VTABLE)。在VTABLE中，编译器放置该类的虚函数地址。在每个带有虚函数的类中，编译器秘密地设置一个指针（就是多出的那部分数据），称为“虚指针(vpointer/VPTR)”，指向这个对象的VTABLE。



纯虚函数是一个在基类中说明的虚函数，它在该基类中没有定义，要求任何派生类都必须定义自己的版本。

为说明一个纯虚函数，使用下列一般形式：

class felid

{

public:


  virtual string what() = 0;

};

如果一个类至少有一个纯虚函数，那么就称该类为“抽象类(abstract class) ”

假设类A是一个抽象类，那么它的特点是：不能创建抽象类A的对象。抽象类A只能用作其它类的基类。



类的设计遵循的原则

•单一责任原则

•开闭原则

•组合/聚集复用原则

•里氏替换原则
