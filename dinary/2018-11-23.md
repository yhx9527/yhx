# 2018-11-23记 #

1.http强缓存和协商缓存

浏览器加载资源的步骤：(未命中则才进入下一阶段)  
强缓存-->协商缓存-->直接从服务器端加载  

强缓存通常用于加载静态资源，第一次从服务器加载之后，根据响应的header中配置的Expires或Cache-Control来设置资源过期时间，其中Expires是服务器的绝对时间，所以当本地的时间和服务器时间差异较大时，就会出现问题。Cache-Control是相对时间，记录有效时长。当浏览器再次请求资源的时候，就会先判断是否命中强缓存，命中的话就直接返回缓存的内容，不请求服务器，其中返回的header是上次缓存的。  

当浏览器发现没命中强缓存时，这时就会发一个请求给服务器进行协商缓存。  
协商缓存的可以利用header中的两对字段进行管理  
- [Last-Modified，If-Modified-Since],第一次请求响应中会返回资源的最后修改日期，当浏览器进行协商缓存时就会在请求字段加上If-Modified-Since，该值就是上次服务器返回的Last-Modified时间，服务收到后判断资源的最后修改日期，如果不变就返回304 Not Modified，浏览器就继续使用缓存的资源。用这个字段进行管理有时候会出现一个问题就是服务器的资源改了，但最后修改日期没变化，这个时候浏览器就不能及时后去到最新资源，所以也就有了下面一对。
- [ETag, If-None-Match]，其中ETag是根据资源生成的唯一标识，只要资源有变化，ETag就会发生改变，同刚才上面的步骤一样进行协商请求，其中不同的是当响应是304时，ETag由于重新生成过，所以也会返回，而Last-Modified不会返回。

当协商缓存也没命中，这个时候才会向服务器请求新资源。

注意：强缓存和协商缓存要配合开启，否则自由协商缓存没有意义，因为本地根本就没有缓存

2.URI统一资源标志符，通过一个独一无二的标志来标识一个资源
  URL统一资源定位符，通过描述资源的位置来找到资源，也是一种标志，故URL是URI的子集

3.Ajax
是一种不用刷新整个页面即可从服务端取得数据的技术，用于实现客户端与服务端的异步通信效果  
创建步骤：  
  1. 新建一个XMLHttpRequest对象或者ActiveXObject对象（兼容IE5浏览器）
  2. 使用xhr.open()初始化请求
  3. 使用xhr.setRequestHeader()设置http头部信息
  4. 设置http请求状态变化函数(可选)
  5. 发送请求xhr.send()
  6. 获取返回的数据进行局部刷新 xhr.onload  
优点：  
  1. 异步通信，页面局部刷新，优化用户体验
  2. 减少不必要的数据传输
缺点：
  1. 不支持浏览器返回按钮
  2. 安全问题
  3. 会出现跨域问题

4. get与post的区别
get一般用于信息获取，其参数会在url上显示，安全性低且对发送的参数大小有限制，一般为2000个字符
post一般用于提交数据，修改服务器的资源，发送的数据在请求体中，没有大小限制

5. 闭包：简单讲可以访问另一个函数作用域的函数，表现出来的就是一个函数内部创建另一个函数并返回，其中这个函数中使用到外部函数的变量，这就是一个闭包。闭包=函数+该函数的作用域链。
   好处：1.将变量进行封装，让局部变量既可以像全局变量一样，又不会有命名的冲突
        2.实现变量的缓存，如函数柯里化
   坏处：内存泄露，降低性能，因为外部函数已经执行完了但变量还存在内存中。
